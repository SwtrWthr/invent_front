import React from 'react'
import { Layout } from '@components/Layout'
import { PageTitle } from '@components/PageTitle'
import { Box, Center, Flex, HStack, Text } from '@chakra-ui/react'
import { itemApi } from '../../api/item-api'
import { stockApi } from '../../api/stock-api'
import { Pagination } from '../../models/pagination'
import { Item } from '../../models/item'
import { Stock } from '../../models/stock'
import { Products } from '@components/Products'
import { Stocks } from '@components/Stocks'

export async function getServerSideProps() {
  return {
    props: {
      items: await itemApi.get(),
      stocks: await stockApi.get(),
    },
  }
}

interface Props {
  items: Pagination<Item>
  stocks: Pagination<Stock>
}

export const TablesPage: React.FC<Props> = ({
  items: { results: items },
  stocks: { results: stocks },
}) => {
  console.log(items)
  console.log(stocks)
  return (
    <Layout pageTitle={<PageTitle breadcrumbs={['Главная', 'Таблицы']}>Таблицы</PageTitle>}>
      <HStack spacing={8}>
        <Center w="368px" h="179px" layerStyle="base">
          <Text color="#FE60AD" fontSize="44px">
            2458
          </Text>
          <Text ml={4}>
            Общее количество <br /> товаров
          </Text>
        </Center>
        <Center w="368px" h="179px" layerStyle="base">
          <Text color="#FE60AD" fontSize="44px">
            1528
          </Text>
          <Text ml={4}>
            Среднее количество <br /> товаров по складам
          </Text>
        </Center>

        <Center w="368px" h="179px" layerStyle="base" pl={8}>
          <svg width={192} height={53} fill="none" xmlns="http://www.w3.org/2000/svg">
            <mask id="a" fill="#fff">
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M191.002 52.783S179.82 27.25 160.47 31.378c0 0-17.538 6.781-26.077.103 0 0-14.025-7.081-19.074-13.504 0 0-12.7-11.522-26.367 4.116 0 0-19.616 14.698-31.115-13.378 0 0-14.003-21.2-33.568 6.613 0 0-13.838 11.087-23.739 9.352"
              />
            </mask>
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M191.002 52.783S179.82 27.25 160.47 31.378c0 0-17.538 6.781-26.077.103 0 0-14.025-7.081-19.074-13.504 0 0-12.7-11.522-26.367 4.116 0 0-19.616 14.698-31.115-13.378 0 0-14.003-21.2-33.568 6.613 0 0-13.838 11.087-23.739 9.352"
              fill="#000"
              fillOpacity={0.01}
            />
            <path
              d="m160.47 31.378-1.252-5.868-.467.1-.445.172 2.164 5.596Zm-26.077.103 3.696-4.727-.465-.363-.527-.266-2.704 5.356Zm-19.074-13.504 4.717-3.708-.311-.396-.374-.34-4.032 4.444Zm-26.367 4.116 3.597 4.802.505-.378.415-.475-4.517-3.949ZM57.837 8.715 63.39 6.44l-.223-.544-.323-.49-5.007 3.308ZM24.27 15.328l3.752 4.683.665-.534.491-.697-4.907-3.452Zm166.733 37.455c5.496-2.407 5.495-2.41 5.494-2.411l-.002-.005-.005-.011-.013-.03-.038-.085-.127-.277c-.108-.23-.26-.55-.456-.944a57.91 57.91 0 0 0-1.712-3.172c-1.484-2.559-3.714-5.98-6.666-9.301-5.753-6.473-15.421-13.775-28.259-11.037l2.503 11.736c6.512-1.389 12.11 2.01 16.786 7.273 2.262 2.545 4.037 5.25 5.255 7.349a44.639 44.639 0 0 1 1.35 2.5 28.962 28.962 0 0 1 .388.81l.011.024-.001-.002-.001-.004-.002-.003c0-.001-.001-.003 5.495-2.41ZM160.47 31.378a1607.199 1607.199 0 0 1-2.16-5.598l.003-.001h.002l-.015.005-.102.038a44.43 44.43 0 0 1-2.32.763 48.312 48.312 0 0 1-6.18 1.422c-2.416.381-4.846.538-6.992.309-2.163-.23-3.656-.81-4.617-1.561l-7.392 9.452c3.309 2.588 7.21 3.665 10.737 4.041 3.544.378 7.099.092 10.135-.388a60.264 60.264 0 0 0 10.774-2.777l.196-.073.06-.023.021-.008.007-.002.004-.002c.001 0 .003 0-2.161-5.597Zm-26.077.103 2.705-5.356h.001-.003c-.003-.003-.01-.006-.02-.011l-.099-.05a81.214 81.214 0 0 1-1.97-1.051 109.797 109.797 0 0 1-5.089-2.97c-4.141-2.576-8.076-5.476-9.882-7.774l-9.434 7.417c3.243 4.124 8.845 7.976 12.979 10.547a121.203 121.203 0 0 0 7.414 4.245 62.63 62.63 0 0 0 .674.349l.013.006.004.002.002.001 2.705-5.355Zm-19.074-13.504c4.032-4.443 4.029-4.446 4.027-4.448a.411.411 0 0 0-.006-.005l-.013-.011-.028-.026-.072-.064a17.686 17.686 0 0 0-.847-.686 23.28 23.28 0 0 0-2.19-1.471c-1.827-1.088-4.502-2.363-7.812-2.99-7.086-1.343-15.787.535-23.944 9.87l9.035 7.896c5.51-6.305 9.994-6.484 12.674-5.976 1.575.299 2.928.927 3.909 1.511.481.286.842.544 1.062.71.109.084.18.142.21.168.016.012.02.017.014.011l-.017-.015-.014-.013a.164.164 0 0 1-.009-.008l-.005-.004c-.003-.003-.005-.005 4.026-4.448Zm-26.367 4.116c-3.598-4.801-3.595-4.803-3.593-4.805l.005-.004.009-.006c.005-.004.01-.007.012-.01l.006-.004a10.542 10.542 0 0 1-.47.309c-.39.242-.989.587-1.745.938-1.553.723-3.537 1.37-5.625 1.424-1.977.051-4.156-.415-6.42-2.1-2.342-1.741-5.151-5.07-7.741-11.394l-11.105 4.548c3.16 7.714 7.114 13.076 11.684 16.475 4.648 3.457 9.529 4.58 13.893 4.467 4.254-.11 7.892-1.384 10.376-2.54a28.67 28.67 0 0 0 3.014-1.624 22.372 22.372 0 0 0 1.237-.827l.034-.025.014-.01a.417.417 0 0 1 .007-.006c.003-.002.005-.004-3.592-4.806ZM57.837 8.715c5.007-3.307 5.005-3.31 5.002-3.314l-.004-.006-.01-.016-.025-.036a13.512 13.512 0 0 0-.262-.375c-.16-.222-.381-.516-.659-.863a27.265 27.265 0 0 0-2.381-2.598c-2.018-1.935-5.17-4.37-9.349-5.652-4.345-1.332-9.477-1.307-14.948 1.283C29.89-.347 24.614 4.409 19.362 11.876l9.815 6.904c4.53-6.44 8.343-9.463 11.158-10.796 2.657-1.258 4.695-1.147 6.296-.656 1.768.542 3.339 1.668 4.559 2.838a15.248 15.248 0 0 1 1.326 1.445c.143.178.243.313.297.387l.045.064-.004-.006a.89.89 0 0 1-.01-.014l-.006-.01-.003-.005c-.002-.002-.004-.005 5.002-3.312ZM24.27 15.328c-3.751-4.682-3.75-4.683-3.75-4.684l.002-.001.002-.002c.001 0 .001 0 0 0l-.013.01-.084.066c-.08.063-.21.162-.382.293a57.122 57.122 0 0 1-6.799 4.374c-2.121 1.154-4.376 2.176-6.53 2.813-2.2.65-3.922.788-5.15.573L-.505 30.59c3.723.652 7.444.055 10.624-.886 3.225-.953 6.286-2.378 8.861-3.779a69.102 69.102 0 0 0 8.288-5.332 43.21 43.21 0 0 0 .728-.562l.016-.012a.297.297 0 0 1 .008-.007c.001 0 .002-.001-3.75-4.684Z"
              fill="#D78AFD"
              mask="url(#a)"
            />
          </svg>
          <Box ml={4}>
            <Text color="#D78AFD">275</Text>
            <Text>
              Добавлено <br /> на сегодня
            </Text>
          </Box>
        </Center>

        <Center w="368px" h="179px" layerStyle="base">
          <Text color="#29C4B2" fontSize="44px">
            3000 ₸
          </Text>
          <Text ml={4}>Возратов</Text>
        </Center>
      </HStack>

      <Text variant="heading" my={8}>
        Топ продукты за неделю
      </Text>

      <Products items={items} />

      <Box mt={6} layerStyle="base">
        <Stocks stocks={stocks} />
      </Box>
    </Layout>
  )
}

export default TablesPage
